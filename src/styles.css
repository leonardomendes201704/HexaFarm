@import url("https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;700;800&family=Baloo+2:wght@600;700&display=swap");

:root {
  color: #fef8f1;
  background:
    radial-gradient(circle at top left, rgba(255, 210, 154, 0.28), transparent 30%),
    radial-gradient(circle at top right, rgba(118, 210, 188, 0.24), transparent 32%),
    linear-gradient(145deg, #19453c 0%, #102a30 42%, #0a151e 100%);
  color-scheme: light;
  font-family: "Outfit", "Segoe UI", sans-serif;
  font-synthesis: none;
  line-height: 1.5;
  font-weight: 400;
  text-rendering: optimizeLegibility;
  -moz-osx-font-smoothing: grayscale;
  -webkit-font-smoothing: antialiased;
}

* {
  box-sizing: border-box;
}

html,
body,
#root {
  margin: 0;
  min-height: 100%;
}

body {
  min-height: 100vh;
}

button,
input,
textarea,
select {
  font: inherit;
}

button {
  border: 0;
  cursor: pointer;
}

button:disabled {
  cursor: not-allowed;
}

.screen-shell {
  position: relative;
  min-height: 100vh;
  overflow: hidden;
  padding: 32px;
}

.screen-shell__background {
  position: absolute;
  inset: 0;
  overflow: hidden;
  transform: scale(1.02);
}

.screen-shell__background-video {
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center;
}

.screen-shell__blur {
  position: absolute;
  border-radius: 999px;
  filter: blur(24px);
  opacity: 0.55;
  pointer-events: none;
}

.screen-shell__blur--left {
  top: 8%;
  left: -10%;
  width: 320px;
  height: 320px;
  background: rgba(255, 189, 116, 0.38);
}

.screen-shell__blur--right {
  right: -6%;
  bottom: 12%;
  width: 280px;
  height: 280px;
  background: rgba(110, 220, 203, 0.26);
}

.landing-layout {
  position: relative;
  z-index: 1;
  display: grid;
  width: min(100%, 1240px);
  margin: 0 auto;
  grid-template-columns: minmax(0, 1fr) minmax(280px, 360px);
  gap: 22px;
  align-items: end;
  align-content: end;
  min-height: calc(100vh - 64px);
}

.hero-panel,
.menu-panel {
  position: relative;
  align-self: end;
  height: fit-content;
  overflow: hidden;
  border: 1px solid rgba(255, 255, 255, 0.22);
  border-radius: 32px;
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.2), rgba(255, 247, 235, 0.08));
  box-shadow:
    0 20px 36px rgba(72, 54, 38, 0.08),
    inset 0 1px 0 rgba(255, 255, 255, 0.42);
  backdrop-filter: blur(10px);
}

.hero-panel {
  display: flex;
  align-items: flex-end;
  padding: 42px;
}

.hero-panel::after {
  position: absolute;
  inset: auto 30px 24px auto;
  width: 120px;
  height: 120px;
  border: 1px solid rgba(182, 130, 76, 0.14);
  border-radius: 24px;
  transform: rotate(12deg);
  content: "";
}

.hero-panel .eyebrow,
.menu-panel .eyebrow {
  color: #a66a34;
  text-shadow:
    0 0 12px rgba(255, 255, 255, 0.9),
    0 0 24px rgba(255, 255, 255, 0.52);
}

.hero-panel__copy {
  display: flex;
  flex-direction: column;
  justify-content: center;
  gap: 18px;
}

.eyebrow {
  margin: 0;
  color: #f7c07b;
  font-size: 0.82rem;
  font-weight: 800;
  letter-spacing: 0.18em;
  text-transform: uppercase;
}

.hero-panel h1 {
  margin: 0;
  color: #fffdf8;
  font-family: "Baloo 2", "Trebuchet MS", sans-serif;
  font-size: clamp(3.8rem, 11vw, 7rem);
  line-height: 0.92;
  -webkit-text-stroke: 4px rgba(244, 181, 130, 0.98);
  paint-order: stroke fill;
  text-shadow:
    -3px 0 0 rgba(244, 181, 130, 0.98),
    3px 0 0 rgba(244, 181, 130, 0.98),
    0 -3px 0 rgba(244, 181, 130, 0.98),
    0 3px 0 rgba(244, 181, 130, 0.98),
    -2px -2px 0 rgba(244, 181, 130, 0.96),
    2px -2px 0 rgba(244, 181, 130, 0.96),
    -2px 2px 0 rgba(244, 181, 130, 0.96),
    2px 2px 0 rgba(244, 181, 130, 0.96),
    0 10px 22px rgba(145, 101, 64, 0.12);
}

.hero-panel__description {
  max-width: 34rem;
  margin: 0;
  color: rgba(91, 60, 33, 0.88);
  font-size: clamp(1rem, 1.3vw, 1.25rem);
  text-shadow:
    0 0 14px rgba(255, 255, 255, 0.88),
    0 0 28px rgba(255, 255, 255, 0.46);
}

.hero-panel__highlights {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
}

.hero-panel__highlights span,
.pill {
  border: 1px solid rgba(177, 124, 71, 0.18);
  border-radius: 999px;
  padding: 8px 12px;
  background: rgba(255, 255, 255, 0.16);
  color: #7a5131;
  font-size: 0.85rem;
  font-weight: 700;
}

.menu-panel {
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  gap: 20px;
  padding: 32px;
}

.menu-panel__header {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.menu-actions {
  display: flex;
  flex-direction: column;
  gap: 14px;
}

.button {
  position: relative;
  width: 100%;
  border-radius: 18px;
  padding: 16px 18px;
  text-align: left;
  transition:
    transform 0.22s ease,
    box-shadow 0.22s ease,
    background-color 0.22s ease,
    opacity 0.22s ease;
}

.button:focus-visible {
  outline: 3px solid rgba(255, 214, 164, 0.7);
  outline-offset: 2px;
}

.button:not(:disabled):hover {
  transform: translateY(-2px);
}

.button--primary {
  background: linear-gradient(135deg, #ffd280 0%, #f39973 100%);
  box-shadow: 0 14px 28px rgba(237, 156, 112, 0.28);
  color: #312010;
  font-weight: 800;
}

.button--secondary {
  background: linear-gradient(135deg, rgba(139, 223, 197, 0.72), rgba(92, 187, 158, 0.82));
  box-shadow: inset 0 0 0 1px rgba(245, 255, 250, 0.36);
  color: #21483d;
  font-weight: 700;
}

.button--ghost {
  background: rgba(255, 255, 255, 0.18);
  box-shadow: inset 0 0 0 1px rgba(167, 120, 72, 0.14);
  color: #6b4427;
  font-weight: 700;
}

.button--danger {
  background: linear-gradient(135deg, rgba(233, 124, 95, 0.9), rgba(178, 62, 59, 0.9));
  box-shadow: 0 14px 28px rgba(161, 60, 52, 0.2);
  color: #fff3eb;
  font-weight: 800;
}

.button:disabled {
  opacity: 0.48;
  filter: saturate(0.75);
}

.menu-panel__feedback {
  min-height: 72px;
  margin: 0;
  border-radius: 20px;
  padding: 16px;
  background: rgba(255, 255, 255, 0.12);
  color: rgba(89, 59, 34, 0.9);
}

.menu-panel__save-summary {
  margin: 0;
  border-radius: 16px;
  padding: 14px 16px;
  background: rgba(255, 255, 255, 0.1);
  color: rgba(89, 59, 34, 0.88);
  font-size: 0.92rem;
}

.options-card {
  display: grid;
  gap: 10px;
  border-radius: 22px;
  padding: 16px;
  background:
    linear-gradient(180deg, rgba(84, 181, 155, 0.16), rgba(84, 181, 155, 0.04)),
    rgba(13, 28, 36, 0.7);
  box-shadow: inset 0 0 0 1px rgba(169, 230, 218, 0.08);
}

.options-card__row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  color: #f4ebdd;
}

.route-layout {
  position: relative;
  z-index: 1;
  display: grid;
  grid-template-columns: minmax(0, 1.1fr) minmax(280px, 360px);
  gap: 24px;
  align-items: stretch;
  min-height: calc(100vh - 64px);
}

.route-card,
.route-aside {
  border: 1px solid rgba(250, 244, 230, 0.12);
  border-radius: 32px;
  background: linear-gradient(180deg, rgba(10, 26, 35, 0.74), rgba(10, 21, 30, 0.92));
  box-shadow:
    0 24px 80px rgba(5, 14, 20, 0.48),
    inset 0 1px 0 rgba(255, 255, 255, 0.06);
  backdrop-filter: blur(12px);
}

.route-card {
  display: flex;
  flex-direction: column;
  gap: 18px;
  padding: 36px;
}

.route-card__title {
  margin: 0;
  color: #fff7ef;
  font-family: "Baloo 2", "Trebuchet MS", sans-serif;
  font-size: clamp(2.6rem, 8vw, 5rem);
  line-height: 0.95;
}

.route-card__description,
.route-aside__description {
  margin: 0;
  color: rgba(250, 244, 236, 0.82);
}

.route-card__highlights {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
}

.route-card__highlights span {
  border: 1px solid rgba(255, 241, 219, 0.1);
  border-radius: 999px;
  padding: 8px 12px;
  background: rgba(248, 230, 198, 0.08);
  color: #f9e7cd;
  font-size: 0.85rem;
  font-weight: 700;
}

.route-note {
  border-radius: 24px;
  padding: 18px;
  background:
    linear-gradient(180deg, rgba(84, 181, 155, 0.14), rgba(84, 181, 155, 0.04)),
    rgba(13, 28, 36, 0.7);
  box-shadow: inset 0 0 0 1px rgba(169, 230, 218, 0.08);
}

.route-note__label {
  margin: 0 0 8px;
  color: #f7c07b;
  font-size: 0.82rem;
  font-weight: 800;
  letter-spacing: 0.12em;
  text-transform: uppercase;
}

.route-note__text {
  margin: 0;
  color: rgba(248, 240, 228, 0.88);
}

.save-summary-grid {
  display: grid;
  gap: 8px;
}

.hex-prototype {
  display: grid;
  gap: 18px;
}

.hex-prototype__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
  flex-wrap: wrap;
}

.hex-prototype__meta {
  display: grid;
  gap: 8px;
  max-width: 34rem;
}

.hex-prototype__status {
  border: 1px solid rgba(248, 232, 205, 0.08);
  border-radius: 999px;
  padding: 10px 14px;
  background: rgba(248, 232, 205, 0.05);
  color: rgba(248, 240, 228, 0.8);
  font-size: 0.85rem;
  font-weight: 700;
}

.hex-prototype__status.is-active {
  background: rgba(245, 199, 128, 0.12);
  color: #fff6e7;
}

.card-hand-panel {
  display: grid;
  gap: 16px;
}

.card-hand-panel__header {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 16px;
  flex-wrap: wrap;
}

.card-hand-panel__counts {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

.card-hand-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(190px, 1fr));
  gap: 14px;
}

.expansion-card {
  display: grid;
  gap: 10px;
  width: 100%;
  border-radius: 24px;
  padding: 16px;
  text-align: left;
  transition:
    transform 0.2s ease,
    box-shadow 0.2s ease,
    opacity 0.2s ease;
}

.expansion-card:hover:not(:disabled) {
  transform: translateY(-3px);
}

.expansion-card.is-selected {
  box-shadow:
    0 0 0 3px rgba(255, 222, 177, 0.22),
    0 16px 26px rgba(8, 15, 20, 0.22);
}

.expansion-card__eyebrow {
  color: rgba(255, 246, 231, 0.78);
  font-size: 0.76rem;
  font-weight: 800;
  letter-spacing: 0.08em;
  text-transform: uppercase;
}

.expansion-card__title {
  color: #fff8ef;
  font-size: 1rem;
}

.expansion-card__description {
  color: rgba(249, 238, 221, 0.82);
  font-size: 0.9rem;
  line-height: 1.45;
}

.expansion-card--field {
  background: linear-gradient(180deg, rgba(76, 155, 86, 0.56), rgba(33, 74, 47, 0.78));
}

.expansion-card--garden {
  background: linear-gradient(180deg, rgba(229, 140, 125, 0.58), rgba(110, 49, 57, 0.78));
}

.expansion-card--pond {
  background: linear-gradient(180deg, rgba(44, 137, 168, 0.6), rgba(22, 62, 94, 0.8));
}

.expansion-card--wild {
  background: linear-gradient(180deg, rgba(88, 114, 67, 0.6), rgba(36, 48, 31, 0.82));
}

.hex-board-shell {
  overflow: hidden;
  border-radius: 28px;
  padding: 18px;
  background:
    radial-gradient(circle at top left, rgba(249, 213, 157, 0.08), transparent 32%),
    rgba(11, 23, 31, 0.74);
  box-shadow: inset 0 0 0 1px rgba(248, 235, 210, 0.06);
}

.hex-board {
  position: relative;
  margin: 0;
  transform: none;
}

.hex-node {
  position: absolute;
  width: 120px;
  height: 103.923px;
  padding: 0;
  background: transparent;
}

.hex-node__surface {
  position: relative;
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  align-items: center;
  justify-content: center;
  border-radius: 0;
  clip-path: polygon(25% 0%, 75% 0%, 100% 50%, 75% 100%, 25% 100%, 0 50%);
  box-shadow:
    0 18px 32px rgba(5, 14, 20, 0.28),
    inset 0 -12px 18px rgba(4, 9, 12, 0.16),
    inset 0 8px 12px rgba(255, 255, 255, 0.08);
  transition:
    transform 0.2s ease,
    box-shadow 0.2s ease,
    opacity 0.2s ease;
}

.hex-node__surface::after {
  position: absolute;
  inset: auto 14% -14%;
  height: 18%;
  border-radius: 999px;
  background: rgba(6, 14, 19, 0.32);
  filter: blur(10px);
  content: "";
}

.hex-node__label {
  position: relative;
  padding: 6px 10px;
  border-radius: 999px;
  background: rgba(10, 21, 30, 0.18);
  color: #fff8ef;
  font-size: 0.8rem;
  font-weight: 800;
  letter-spacing: 0.04em;
}

.hex-node__badge-stack {
  position: relative;
  z-index: 1;
  display: grid;
  gap: 6px;
  justify-items: center;
}

.hex-node__crop-badge {
  padding: 4px 10px;
  border-radius: 999px;
  background: rgba(255, 249, 233, 0.9);
  color: #8a5828;
  font-size: 0.68rem;
  font-weight: 900;
  letter-spacing: 0.03em;
  box-shadow:
    0 8px 14px rgba(92, 63, 31, 0.14),
    inset 0 1px 0 rgba(255, 255, 255, 0.72);
}

.hex-node--tile .hex-node__surface:hover,
.hex-node--slot.is-armed .hex-node__surface:hover {
  transform: translateY(-4px);
}

.hex-node--tile.is-crop-target .hex-node__surface {
  box-shadow:
    0 0 0 3px rgba(255, 238, 175, 0.46),
    0 18px 32px rgba(5, 14, 20, 0.28),
    inset 0 -12px 18px rgba(4, 9, 12, 0.16),
    inset 0 8px 12px rgba(255, 255, 255, 0.12);
}

.hex-node--home .hex-node__surface {
  background: linear-gradient(180deg, #f2b98a, #c87452);
}

.hex-node--field .hex-node__surface {
  background: linear-gradient(180deg, #8edc7a, #4c9b56);
}

.hex-node--garden .hex-node__surface {
  background: linear-gradient(180deg, #f6c38f, #e58c7d);
}

.hex-node--pond .hex-node__surface {
  background: linear-gradient(180deg, #6ecfe0, #2c89a8);
}

.hex-node--wild .hex-node__surface {
  background: linear-gradient(180deg, #8ebf7a, #587243);
}

.hex-node--slot .hex-node__surface {
  background: rgba(240, 227, 202, 0.04);
  box-shadow:
    inset 0 0 0 2px rgba(245, 207, 149, 0.08),
    0 14px 28px rgba(4, 10, 14, 0.14);
  opacity: 0.5;
}

.hex-node--slot.is-armed .hex-node__surface {
  background: rgba(245, 199, 128, 0.12);
  box-shadow:
    inset 0 0 0 2px rgba(255, 220, 166, 0.42),
    0 18px 28px rgba(4, 10, 14, 0.18);
  opacity: 1;
}

.hex-node.is-selected .hex-node__surface {
  box-shadow:
    0 0 0 3px rgba(255, 224, 182, 0.32),
    0 18px 32px rgba(5, 14, 20, 0.28),
    inset 0 -12px 18px rgba(4, 9, 12, 0.16),
    inset 0 8px 12px rgba(255, 255, 255, 0.08);
}

.hex-node:disabled .hex-node__surface {
  cursor: default;
}

.tile-yield-burst {
  position: absolute;
  z-index: 7;
  display: grid;
  justify-items: center;
  gap: 6px;
  pointer-events: none;
  transform: translate(-50%, -50%);
  animation: tile-yield-burst-rise 920ms ease-out forwards;
}

.tile-yield-burst__coins {
  display: flex;
  gap: 6px;
}

.tile-yield-burst__coin {
  width: 14px;
  height: 14px;
  border-radius: 50%;
  background: radial-gradient(circle at 30% 30%, #fff8cf, #f5b94b 58%, #d58a20 100%);
  box-shadow:
    0 6px 10px rgba(181, 117, 35, 0.22),
    inset 0 1px 0 rgba(255, 253, 231, 0.84);
  animation: tile-yield-coin-pop 560ms ease-out forwards;
}

.tile-yield-burst__label {
  border-radius: 999px;
  padding: 4px 10px;
  background: rgba(255, 249, 237, 0.92);
  color: #865224;
  font-size: 0.74rem;
  font-weight: 900;
  letter-spacing: 0.03em;
}

.tile-yield-burst.is-negative .tile-yield-burst__coin {
  background: radial-gradient(circle at 30% 30%, #ffe2d6, #f19367 58%, #d85d47 100%);
  box-shadow:
    0 6px 10px rgba(189, 92, 55, 0.2),
    inset 0 1px 0 rgba(255, 239, 232, 0.82);
}

.tile-yield-burst.is-negative .tile-yield-burst__label {
  background: rgba(255, 239, 234, 0.94);
  color: #a2473a;
}

.route-actions {
  display: flex;
  margin-top: auto;
  padding-top: 8px;
}

.nav-link-button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 18px;
  padding: 14px 18px;
  text-decoration: none;
  transition:
    transform 0.22s ease,
    box-shadow 0.22s ease,
    background-color 0.22s ease;
}

.nav-link-button:hover {
  transform: translateY(-2px);
}

.nav-link-button--primary {
  background: linear-gradient(135deg, #ffd280 0%, #f39973 100%);
  box-shadow: 0 14px 28px rgba(237, 156, 112, 0.28);
  color: #312010;
  font-weight: 800;
}

.route-aside {
  display: flex;
  flex-direction: column;
  gap: 18px;
  padding: 28px;
}

.route-aside__title {
  margin: 0;
  color: #fff6ec;
  font-size: 1.5rem;
}

.route-list {
  display: grid;
  gap: 12px;
}

.route-list__item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  border-radius: 18px;
  padding: 14px;
  background: rgba(248, 241, 229, 0.05);
  color: rgba(248, 240, 228, 0.92);
}

@keyframes tile-yield-burst-rise {
  0% {
    opacity: 0;
    transform: translate(-50%, -36%);
  }

  14% {
    opacity: 1;
    transform: translate(-50%, -52%);
  }

  75% {
    opacity: 1;
    transform: translate(-50%, -118%);
  }

  100% {
    opacity: 0;
    transform: translate(-50%, -146%);
  }
}

@keyframes tile-yield-coin-pop {
  0% {
    opacity: 0;
    transform: translateY(12px) scale(0.55);
  }

  40% {
    opacity: 1;
    transform: translateY(-4px) scale(1.05);
  }

  100% {
    opacity: 1;
    transform: translateY(-14px) scale(1);
  }
}

@media (max-width: 1080px) {
  .landing-layout {
    grid-template-columns: 1fr;
  }

  .route-layout {
    grid-template-columns: 1fr;
  }

  .hero-panel {
    min-height: auto;
  }

  .menu-panel {
    max-width: none;
  }
}

@media (max-width: 720px) {
  .screen-shell {
    padding: 20px;
  }

  .landing-layout {
    min-height: calc(100vh - 40px);
    gap: 20px;
  }

  .hero-panel,
  .route-card,
  .route-aside,
  .menu-panel {
    border-radius: 26px;
    padding: 22px;
  }

  .hero-panel h1 {
    font-size: clamp(3rem, 18vw, 4.5rem);
  }

  .hero-panel__description,
  .menu-panel__status,
  .menu-panel__feedback {
    font-size: 0.95rem;
  }

  .hex-prototype__header {
    align-items: stretch;
  }

  .card-hand-panel__header {
    align-items: stretch;
  }

  .button {
    padding: 15px 16px;
  }
}

.hex-prototype {
  height: 100%;
  min-height: 0;
  overflow: hidden;
}

.hex-board-shell {
  position: relative;
  height: 100%;
  min-height: 0;
  overflow: hidden;
  border-radius: 34px;
  padding: 32px;
  background:
    radial-gradient(circle at 50% 12%, rgba(255, 246, 197, 0.36), transparent 28%),
    radial-gradient(circle at 20% 22%, rgba(255, 202, 158, 0.22), transparent 24%),
    radial-gradient(circle at 82% 28%, rgba(253, 233, 255, 0.2), transparent 22%),
    linear-gradient(180deg, rgba(138, 190, 255, 0.18), rgba(255, 239, 208, 0.05) 30%, rgba(14, 27, 36, 0.14));
  box-shadow:
    inset 0 0 0 1px rgba(248, 235, 210, 0.08),
    inset 0 -48px 68px rgba(11, 22, 28, 0.12);
  cursor: grab;
  user-select: none;
}

.hex-board-shell.is-panning {
  cursor: grabbing;
}

.hex-board-shell.is-locked {
  cursor: default;
}

.hex-board-viewport {
  position: relative;
  width: 100%;
  height: 100%;
  min-height: 0;
  overflow: hidden;
}

@keyframes expansion-card-collapse {
  0% {
    opacity: 1;
    transform: translateY(var(--card-vertical-offset, 0))
      rotate(var(--card-rotation, 0deg))
      scale(1);
  }

  62% {
    opacity: 1;
    transform: translate(
        var(--discard-collapse-x, 0px),
        calc(var(--card-vertical-offset, 0px) - 8px)
      )
      rotate(0deg)
      scale(0.96);
  }

  100% {
    opacity: 0;
    transform: translate(
        var(--discard-collapse-x, 0px),
        calc(var(--card-vertical-offset, 0px) - 8px)
      )
      rotate(0deg)
      scale(0.92);
  }
}

@keyframes hand-discard-stack-travel {
  0%,
  22% {
    opacity: 0;
    transform: translate(-50%, 0) scale(0.88) rotate(0deg);
  }

  34% {
    opacity: 1;
    transform: translate(-50%, -2px) scale(0.98) rotate(0deg);
  }

  100% {
    opacity: 0;
    transform: translate(
        calc(-50% + var(--hand-discard-travel-x, 300px)),
        calc(-1 * var(--hand-discard-rise, 18px))
      )
      scale(0.72)
      rotate(8deg);
  }
}

@keyframes hand-draw-card-flight {
  0% {
    opacity: 0;
    transform: translate(0, 0) rotate(-8deg) scale(0.86);
  }

  14% {
    opacity: 1;
    transform: translate(0, -4px) rotate(-6deg) scale(0.9);
  }

  100% {
    opacity: 1;
    transform: translate(
        calc(var(--hand-draw-travel-x, 238px) + var(--draw-target-offset-x, 0px)),
        var(--card-vertical-offset, 0px)
      )
      rotate(var(--card-rotation, 0deg))
      scale(1);
  }
}

.expansion-card {
  --card-shell-border: rgba(196, 154, 92, 0.86);
  --card-shell-fill-top: rgba(255, 248, 236, 0.97);
  --card-shell-fill-bottom: rgba(244, 227, 198, 0.94);
  --card-shell-glow: rgba(180, 136, 72, 0.22);
  --card-art-border: rgba(186, 136, 74, 0.98);
  position: relative;
  width: min(18vw, 188px);
  min-width: 124px;
  padding: 0;
  background: transparent;
  text-align: center;
  transition:
    transform 0.28s ease,
    box-shadow 0.2s ease,
    opacity 0.2s ease;
  transform: translateY(var(--card-vertical-offset, 0)) rotate(var(--card-rotation, 0deg));
  transform-origin: center bottom;
}

.expansion-card:hover:not(:disabled) {
  transform: translateY(calc(var(--card-vertical-offset, 0) - 16px))
    rotate(var(--card-rotation, 0deg));
  z-index: 3;
}

.expansion-card.is-selected {
  z-index: 4;
  transform: translateY(calc(var(--card-vertical-offset, 0) - 22px))
    rotate(var(--card-rotation, 0deg));
}

.expansion-card.is-discarding,
.expansion-card.is-discarding:hover:not(:disabled),
.expansion-card.is-discarding.is-selected {
  pointer-events: none;
  z-index: 8;
  animation: expansion-card-collapse var(--hand-discard-collapse-duration, 340ms)
    cubic-bezier(0.24, 0.8, 0.22, 1) forwards;
}

.expansion-card.is-hidden-in-draw {
  opacity: 0;
  pointer-events: none;
}

.expansion-card--draw-proxy {
  position: absolute;
  left: 56px;
  bottom: 0;
  z-index: 10;
  pointer-events: none;
  animation: hand-draw-card-flight var(--hand-draw-duration, 420ms)
    cubic-bezier(0.18, 0.82, 0.2, 1) forwards;
}

.expansion-card.is-muted {
  filter: saturate(0.82);
}

.expansion-card__frame {
  display: grid;
  gap: 10px;
  border: 5px solid var(--card-shell-border);
  border-radius: 24px;
  padding: 12px;
  background:
    linear-gradient(180deg, var(--card-shell-fill-top), var(--card-shell-fill-bottom)),
    rgba(255, 249, 239, 0.95);
  box-shadow:
    0 22px 30px rgba(7, 13, 19, 0.24),
    0 0 0 2px var(--card-shell-glow),
    inset 0 1px 0 rgba(255, 255, 255, 0.9);
}

.expansion-card.is-selected .expansion-card__frame {
  box-shadow:
    0 0 0 4px rgba(255, 233, 191, 0.28),
    0 24px 34px rgba(7, 13, 19, 0.28),
    inset 0 1px 0 rgba(255, 255, 255, 0.95);
}

.expansion-card.is-discarding .expansion-card__frame {
  box-shadow:
    0 12px 20px rgba(7, 13, 19, 0.18),
    0 0 0 2px rgba(255, 232, 194, 0.28),
    inset 0 1px 0 rgba(255, 255, 255, 0.92);
}

.expansion-card--draw-proxy .expansion-card__frame {
  box-shadow:
    0 18px 26px rgba(7, 13, 19, 0.22),
    0 0 0 2px rgba(255, 232, 194, 0.16),
    inset 0 1px 0 rgba(255, 255, 255, 0.94);
}

.expansion-card__art {
  position: relative;
  overflow: hidden;
  border-radius: 18px;
  min-height: 150px;
  padding: 16px;
  border: 4px solid var(--card-art-border);
  background: linear-gradient(180deg, rgba(255, 220, 191, 0.45), rgba(255, 244, 224, 0.92));
  box-shadow:
    inset 0 0 0 1px rgba(255, 255, 255, 0.16),
    0 10px 18px rgba(82, 53, 31, 0.1);
}

.expansion-card__art-image {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  z-index: 0;
}

.expansion-card__cost {
  position: absolute;
  top: 12px;
  left: 12px;
  z-index: 2;
  display: inline-flex;
  min-width: 34px;
  min-height: 34px;
  align-items: center;
  justify-content: center;
  gap: 4px;
  padding: 0 9px 0 10px;
  border-radius: 999px;
  background: rgba(255, 252, 240, 0.92);
  color: #925a21;
  font-size: 0.86rem;
  font-weight: 900;
  box-shadow:
    0 8px 12px rgba(112, 88, 57, 0.14),
    inset 0 0 0 2px rgba(181, 138, 80, 0.18);
}

.expansion-card__cost::after,
.collection-card__cost::after {
  color: #f0be34;
  font-size: 0.72rem;
  line-height: 1;
  text-shadow:
    0 1px 0 rgba(255, 244, 181, 0.74),
    0 0 8px rgba(255, 213, 84, 0.28);
  content: "âš¡";
}

.expansion-card__yield,
.collection-card__yield {
  position: absolute;
  top: 12px;
  right: 12px;
  z-index: 2;
  display: inline-flex;
  min-height: 34px;
  align-items: center;
  justify-content: center;
  border-radius: 999px;
  padding: 0 10px;
  gap: 6px;
  font-size: 0.76rem;
  font-weight: 900;
  letter-spacing: 0.02em;
  box-shadow:
    0 8px 12px rgba(112, 88, 57, 0.14),
    inset 0 0 0 2px rgba(255, 255, 255, 0.18);
}

.expansion-card__yield::before,
.collection-card__yield::before {
  width: 10px;
  height: 10px;
  flex: 0 0 10px;
  border-radius: 50%;
  background: radial-gradient(circle at 30% 30%, #fff9cf, #f5bf49 60%, #d28b1d 100%);
  box-shadow:
    0 2px 5px rgba(166, 104, 23, 0.22),
    inset 0 1px 0 rgba(255, 252, 226, 0.8);
  content: "";
}

.expansion-card__yield.is-positive,
.collection-card__yield.is-positive {
  background: rgba(232, 255, 229, 0.92);
  color: #2c7b38;
}

.expansion-card__yield.is-negative,
.collection-card__yield.is-negative {
  background: rgba(255, 230, 225, 0.94);
  color: #a2473a;
}

.expansion-card__art::after {
  position: absolute;
  inset: auto 12px 10px;
  height: 22%;
  border-radius: 999px 999px 14px 14px;
  background: linear-gradient(180deg, rgba(226, 193, 116, 0.55), rgba(156, 126, 57, 0.85));
  content: "";
  z-index: 1;
}

.expansion-card__art--field {
  background:
    radial-gradient(circle at 50% 14%, rgba(255, 248, 201, 0.9), transparent 24%),
    linear-gradient(180deg, rgba(244, 209, 232, 0.9), rgba(252, 248, 218, 0.95));
}

.expansion-card__art--garden {
  background:
    radial-gradient(circle at 50% 14%, rgba(255, 246, 190, 0.9), transparent 24%),
    linear-gradient(180deg, rgba(255, 214, 232, 0.92), rgba(255, 244, 214, 0.95));
}

.expansion-card__art--pond {
  background:
    radial-gradient(circle at 50% 14%, rgba(254, 249, 204, 0.92), transparent 24%),
    linear-gradient(180deg, rgba(214, 236, 255, 0.92), rgba(248, 246, 214, 0.95));
}

.expansion-card__art--wild {
  background:
    radial-gradient(circle at 50% 14%, rgba(255, 249, 204, 0.92), transparent 24%),
    linear-gradient(180deg, rgba(226, 236, 214, 0.92), rgba(248, 240, 214, 0.95));
}

.expansion-card--field {
  --card-shell-border: rgba(117, 170, 88, 0.94);
  --card-shell-fill-top: rgba(240, 249, 230, 0.98);
  --card-shell-fill-bottom: rgba(220, 239, 201, 0.96);
  --card-shell-glow: rgba(106, 162, 79, 0.2);
  --card-art-border: rgba(105, 160, 72, 0.98);
}

.expansion-card--garden {
  --card-shell-border: rgba(225, 146, 125, 0.94);
  --card-shell-fill-top: rgba(255, 241, 236, 0.98);
  --card-shell-fill-bottom: rgba(248, 220, 209, 0.96);
  --card-shell-glow: rgba(222, 145, 122, 0.2);
  --card-art-border: rgba(214, 126, 102, 0.98);
}

.expansion-card--pond {
  --card-shell-border: rgba(106, 165, 212, 0.96);
  --card-shell-fill-top: rgba(239, 248, 255, 0.98);
  --card-shell-fill-bottom: rgba(213, 232, 248, 0.96);
  --card-shell-glow: rgba(91, 155, 211, 0.2);
  --card-art-border: rgba(84, 143, 198, 0.98);
}

.expansion-card--wild {
  --card-shell-border: rgba(138, 156, 96, 0.94);
  --card-shell-fill-top: rgba(240, 246, 230, 0.98);
  --card-shell-fill-bottom: rgba(221, 232, 202, 0.96);
  --card-shell-glow: rgba(128, 148, 88, 0.2);
  --card-art-border: rgba(118, 136, 77, 0.98);
}

.expansion-card--crop {
  --card-shell-border: rgba(228, 171, 78, 0.96);
  --card-shell-fill-top: rgba(255, 246, 223, 0.99);
  --card-shell-fill-bottom: rgba(249, 230, 180, 0.97);
  --card-shell-glow: rgba(214, 152, 55, 0.22);
  --card-art-border: rgba(210, 148, 42, 1);
}

.expansion-card__spark {
  position: absolute;
  top: 16px;
  z-index: 2;
  width: 12px;
  height: 12px;
  border-radius: 4px;
  background: rgba(255, 247, 219, 0.95);
  transform: rotate(45deg);
  box-shadow: 0 0 12px rgba(255, 245, 215, 0.7);
}

.expansion-card__spark--left {
  left: 16px;
}

.expansion-card__spark--right {
  right: 18px;
  width: 9px;
  height: 9px;
}

.expansion-card__icon {
  position: relative;
  z-index: 2;
  display: flex;
  width: 100%;
  min-height: 118px;
  align-items: center;
  justify-content: center;
}

.expansion-card__icon-core {
  position: relative;
  display: block;
}

.expansion-card__icon--field .expansion-card__icon-core {
  width: 26px;
  height: 76px;
  border-radius: 999px;
  background: linear-gradient(180deg, #89cf6b, #4d9f4a);
}

.expansion-card__icon--field .expansion-card__icon-core::before,
.expansion-card__icon--field .expansion-card__icon-core::after {
  position: absolute;
  width: 36px;
  height: 18px;
  border-radius: 999px 999px 999px 0;
  background: linear-gradient(180deg, #c5f78d, #79c85b);
  content: "";
}

.expansion-card__icon--field .expansion-card__icon-core::before {
  top: 10px;
  right: -20px;
  transform: rotate(24deg);
}

.expansion-card__icon--field .expansion-card__icon-core::after {
  top: 28px;
  left: -20px;
  transform: scaleX(-1) rotate(28deg);
}

.expansion-card__icon--garden .expansion-card__icon-core {
  width: 34px;
  height: 34px;
  border-radius: 50%;
  background: #ffd361;
  box-shadow: 0 0 0 18px #f48fbc;
}

.expansion-card__icon--garden .expansion-card__icon-core::before,
.expansion-card__icon--garden .expansion-card__icon-core::after {
  position: absolute;
  width: 22px;
  height: 40px;
  border-radius: 999px 999px 999px 0;
  background: linear-gradient(180deg, #9fdf6f, #61af58);
  content: "";
}

.expansion-card__icon--garden .expansion-card__icon-core::before {
  top: 42px;
  left: -8px;
  transform: rotate(-36deg);
}

.expansion-card__icon--garden .expansion-card__icon-core::after {
  top: 42px;
  right: -8px;
  transform: scaleX(-1) rotate(-36deg);
}

.expansion-card__icon--pond .expansion-card__icon-core {
  width: 84px;
  height: 56px;
  border-radius: 44px;
  background: linear-gradient(180deg, #7de7f6, #3ab9d0);
  box-shadow:
    inset 0 10px 14px rgba(255, 255, 255, 0.35),
    0 10px 16px rgba(69, 164, 191, 0.18);
}

.expansion-card__icon--pond .expansion-card__icon-core::before {
  position: absolute;
  top: 14px;
  left: 16px;
  width: 46px;
  height: 16px;
  border-radius: 999px;
  background: rgba(236, 255, 255, 0.42);
  content: "";
}

.expansion-card__icon--wild .expansion-card__icon-core {
  width: 24px;
  height: 68px;
  border-radius: 999px;
  background: linear-gradient(180deg, #8f6646, #6f482f);
}

.expansion-card__icon--wild .expansion-card__icon-core::before {
  position: absolute;
  inset: -34px -34px auto;
  height: 64px;
  border-radius: 999px;
  background:
    radial-gradient(circle at 25% 30%, #f87468 0 10%, transparent 11%),
    radial-gradient(circle at 74% 36%, #f87468 0 9%, transparent 10%),
    radial-gradient(circle at 56% 65%, #f87468 0 9%, transparent 10%),
    linear-gradient(180deg, #a6df76, #6faa4b);
  content: "";
}

.expansion-card__footer {
  display: grid;
  gap: 4px;
  padding: 2px 2px 4px;
}

.expansion-card__eyebrow {
  color: #8f6c44;
  font-size: 0.72rem;
  font-weight: 800;
  letter-spacing: 0.08em;
  text-transform: uppercase;
}

.expansion-card__title {
  color: #593d1d;
  font-size: clamp(0.86rem, 1vw, 1rem);
}

.expansion-card__yield-text {
  color: rgba(111, 75, 46, 0.88);
  font-size: 0.74rem;
  font-weight: 800;
}

.card-tooltip-anchor {
  position: absolute;
  inset: 0;
  pointer-events: none;
}

.card-tooltip {
  position: fixed;
  z-index: 9999;
  display: grid;
  gap: 6px;
  width: min(300px, calc(100vw - 48px));
  border: 3px solid rgba(233, 151, 84, 0.82);
  border-radius: 22px;
  padding: 14px 16px;
  background:
    radial-gradient(circle at top right, rgba(255, 248, 194, 0.92), transparent 34%),
    linear-gradient(180deg, rgba(255, 248, 214, 0.99), rgba(255, 236, 176, 0.97));
  box-shadow:
    0 22px 34px rgba(48, 31, 24, 0.22),
    inset 0 1px 0 rgba(255, 255, 255, 0.92);
  pointer-events: none;
  text-align: left;
}

.card-tooltip.is-top {
  transform: translate(-50%, -100%);
}

.card-tooltip.is-bottom {
  transform: translate(-50%, 0);
}

.card-tooltip.is-right {
  transform: translate(0, -50%);
}

.card-tooltip.is-left {
  transform: translate(-100%, -50%);
}

.card-tooltip::after {
  position: absolute;
  top: 100%;
  left: 50%;
  width: 16px;
  height: 16px;
  border-right: 3px solid rgba(233, 151, 84, 0.82);
  border-bottom: 3px solid rgba(233, 151, 84, 0.82);
  background: rgba(255, 240, 187, 0.98);
  content: "";
  transform: translate(-50%, -8px) rotate(45deg);
}

.card-tooltip.is-bottom::after {
  top: auto;
  bottom: 100%;
  border-top: 3px solid rgba(233, 151, 84, 0.82);
  border-left: 3px solid rgba(233, 151, 84, 0.82);
  border-right: 0;
  border-bottom: 0;
  transform: translate(-50%, 8px) rotate(45deg);
}

.card-tooltip.is-right::after {
  top: 50%;
  left: 0;
  border-top: 3px solid rgba(233, 151, 84, 0.82);
  border-left: 3px solid rgba(233, 151, 84, 0.82);
  border-right: 0;
  border-bottom: 0;
  transform: translate(-8px, -50%) rotate(45deg);
}

.card-tooltip.is-left::after {
  top: 50%;
  left: 100%;
  border-top: 0;
  border-left: 0;
  border-right: 3px solid rgba(233, 151, 84, 0.82);
  border-bottom: 3px solid rgba(233, 151, 84, 0.82);
  transform: translate(-8px, -50%) rotate(45deg);
}

.card-tooltip__eyebrow {
  color: #9a6535;
  font-size: 0.7rem;
  font-weight: 900;
  letter-spacing: 0.08em;
  text-transform: uppercase;
}

.card-tooltip__title {
  color: #5e3418;
  font-size: 0.98rem;
}

.card-tooltip__text,
.card-tooltip__effect {
  color: rgba(101, 65, 38, 0.9);
  font-size: 0.8rem;
  line-height: 1.45;
}

.card-tooltip__effect {
  color: rgba(118, 76, 43, 0.86);
}

.card-tooltip__yield {
  display: inline-flex;
  width: fit-content;
  align-items: center;
  border-radius: 999px;
  padding: 6px 10px;
  background: rgba(104, 184, 119, 0.14);
  color: #377246;
  font-size: 0.74rem;
  font-weight: 900;
}

.card-tooltip__yield.is-negative {
  background: rgba(226, 133, 106, 0.14);
  color: #974638;
}

.hex-board {
  position: absolute;
  top: 50%;
  left: 50%;
  margin: 0;
  will-change: transform;
}

.gameplay-screen {
  position: relative;
  height: 100vh;
  min-height: 100vh;
  padding: 0;
  isolation: isolate;
  background:
    radial-gradient(circle at top center, rgba(255, 244, 193, 0.42), transparent 24%),
    linear-gradient(180deg, #a8cfff 0%, #f6bfd7 30%, #ffe8bf 52%, #c8ecb1 100%);
  overflow: hidden;
}

.gameplay-screen::before {
  position: absolute;
  inset: auto -10% -24%;
  height: 56%;
  border-radius: 50%;
  background:
    radial-gradient(circle at 20% 40%, rgba(255, 255, 255, 0.55), transparent 22%),
    radial-gradient(circle at 80% 30%, rgba(255, 255, 255, 0.42), transparent 18%),
    linear-gradient(180deg, rgba(255, 255, 255, 0.32), rgba(255, 255, 255, 0.06));
  filter: blur(26px);
  content: "";
  pointer-events: none;
}

.gameplay-screen__sky {
  position: absolute;
  inset: 0;
  background:
    radial-gradient(circle at 50% 20%, rgba(255, 248, 203, 0.82), transparent 14%),
    radial-gradient(circle at 24% 22%, rgba(255, 255, 255, 0.42), transparent 16%),
    radial-gradient(circle at 76% 18%, rgba(255, 255, 255, 0.38), transparent 18%);
  pointer-events: none;
}

.gameplay-screen__haze {
  position: absolute;
  width: 36vw;
  height: 36vw;
  border-radius: 50%;
  filter: blur(40px);
  opacity: 0.52;
  pointer-events: none;
}

.gameplay-screen__haze--left {
  top: 12%;
  left: -10%;
  background: rgba(255, 207, 149, 0.34);
}

.gameplay-screen__haze--right {
  right: -8%;
  bottom: 16%;
  background: rgba(243, 205, 255, 0.28);
}

.gameplay-hud {
  position: absolute;
  top: 18px;
  left: 24px;
  right: 24px;
  z-index: 6;
  display: grid;
  grid-template-columns: auto minmax(0, 1fr) auto;
  align-items: center;
  gap: 16px;
}

.gameplay-hud__cluster {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

.gameplay-hud__cluster--right {
  justify-content: flex-end;
}

.gameplay-weekline {
  display: flex;
  width: fit-content;
  align-items: center;
  justify-self: center;
  gap: 8px;
  padding: 8px 12px;
  border-radius: 999px;
  background: rgba(255, 255, 255, 0.14);
  backdrop-filter: blur(14px);
  box-shadow:
    0 14px 26px rgba(81, 87, 121, 0.1),
    inset 0 1px 0 rgba(255, 255, 255, 0.42);
}

.gameplay-weekline__day {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 44px;
  min-height: 36px;
  padding: 0 8px;
  border: 2px solid transparent;
  border-radius: 999px;
  color: #6d4528;
  font-size: 0.8rem;
  font-weight: 900;
  letter-spacing: 0.04em;
  text-transform: uppercase;
}

.gameplay-weekline__day.is-current {
  border-color: rgba(244, 175, 112, 0.9);
  background: rgba(255, 248, 226, 0.72);
  box-shadow:
    0 10px 18px rgba(111, 73, 40, 0.14),
    inset 0 1px 0 rgba(255, 255, 255, 0.78);
}

.hud-button,
.hud-pill {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  border: 1px solid rgba(255, 255, 255, 0.3);
  border-radius: 999px;
  padding: 10px 14px;
  background: rgba(255, 255, 255, 0.2);
  backdrop-filter: blur(12px);
  box-shadow:
    0 12px 24px rgba(81, 87, 121, 0.12),
    inset 0 1px 0 rgba(255, 255, 255, 0.55);
  color: #5c3b29;
  font-size: 0.86rem;
  font-weight: 800;
}

.hud-button {
  transition:
    transform 0.2s ease,
    background-color 0.2s ease;
}

.hud-button:hover {
  transform: translateY(-2px);
  background: rgba(255, 255, 255, 0.28);
}

.hud-button--action {
  background: rgba(255, 243, 214, 0.36);
  color: #6a3f1c;
}

.hud-button__key {
  display: inline-flex;
  width: 28px;
  height: 28px;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  background: rgba(255, 246, 216, 0.92);
  color: #7b4d24;
  font-size: 0.78rem;
}

@keyframes day-coin-particle-burst {
  0% {
    opacity: 0;
    transform: translate(0, 0) rotate(var(--coin-particle-rotation, 0deg))
      scale(calc(var(--coin-particle-scale, 1) * 0.4));
  }

  12% {
    opacity: 1;
  }

  100% {
    opacity: 0;
    transform: translate(var(--coin-particle-x, 0px), var(--coin-particle-y, 0px))
      rotate(calc(var(--coin-particle-rotation, 0deg) + 30deg))
      scale(var(--coin-particle-scale, 1));
  }
}

@keyframes day-coin-counter-fly {
  0%,
  64% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
  }

  100% {
    opacity: 0;
    transform: translate(
        calc(-50% + var(--coin-counter-fly-x, 0px)),
        calc(-50% + var(--coin-counter-fly-y, 0px))
      )
      scale(0.44);
  }
}

.day-coin-overlay {
  position: fixed;
  inset: 0;
  z-index: 10;
  pointer-events: none;
}

.day-coin-overlay__burst,
.day-coin-overlay__counter {
  position: absolute;
  left: 50%;
  top: 50%;
}

.day-coin-overlay__burst {
  width: 0;
  height: 0;
}

.day-coin-overlay__particle {
  position: absolute;
  left: -9px;
  top: -9px;
  width: 18px;
  height: 18px;
  border-radius: 50%;
  background:
    radial-gradient(circle at 30% 30%, #fff8c7, #f4c84f 58%, #d79218 100%);
  box-shadow:
    0 0 16px rgba(255, 216, 108, 0.34),
    inset 0 1px 0 rgba(255, 251, 220, 0.84);
  animation: day-coin-particle-burst 1s ease-out forwards;
}

.day-coin-overlay.is-negative .day-coin-overlay__particle {
  background:
    radial-gradient(circle at 30% 30%, #ffe3d8, #f5a06f 58%, #cf5d38 100%);
  box-shadow:
    0 0 16px rgba(239, 134, 94, 0.32),
    inset 0 1px 0 rgba(255, 239, 231, 0.82);
}

.day-coin-overlay__counter {
  display: grid;
  justify-items: center;
  gap: 8px;
  min-width: 176px;
  padding: 20px 24px;
  border: 3px solid rgba(255, 255, 255, 0.6);
  border-radius: 999px;
  background:
    radial-gradient(circle at top center, rgba(255, 244, 203, 0.5), transparent 46%),
    linear-gradient(180deg, rgba(255, 252, 242, 0.94), rgba(255, 236, 203, 0.9));
  box-shadow:
    0 24px 42px rgba(70, 44, 28, 0.22),
    0 0 0 4px rgba(255, 226, 171, 0.18),
    inset 0 1px 0 rgba(255, 255, 255, 0.92);
  transform: translate(-50%, -50%);
}

.day-coin-overlay.is-negative .day-coin-overlay__counter {
  background:
    radial-gradient(circle at top center, rgba(255, 225, 207, 0.46), transparent 46%),
    linear-gradient(180deg, rgba(255, 247, 241, 0.94), rgba(255, 223, 208, 0.9));
  box-shadow:
    0 24px 42px rgba(92, 41, 35, 0.22),
    0 0 0 4px rgba(245, 178, 150, 0.18),
    inset 0 1px 0 rgba(255, 255, 255, 0.92);
}

.day-coin-overlay.is-flying .day-coin-overlay__counter {
  animation: day-coin-counter-fly 0.52s cubic-bezier(0.22, 0.8, 0.2, 1) forwards;
}

.day-coin-overlay__counter-label {
  color: #9a6634;
  font-size: 0.74rem;
  font-weight: 900;
  letter-spacing: 0.08em;
  text-transform: uppercase;
}

.day-coin-overlay__counter-value {
  color: #6c3c14;
  font-family: "Baloo 2", "Trebuchet MS", sans-serif;
  font-size: clamp(2.4rem, 6vw, 4.2rem);
  line-height: 0.9;
}

.day-coin-overlay.is-negative .day-coin-overlay__counter-label,
.day-coin-overlay.is-negative .day-coin-overlay__counter-value {
  color: #9c4a38;
}

.gameplay-stage {
  position: absolute;
  inset: 0;
  z-index: 2;
  display: grid;
  overflow: hidden;
  min-height: 100%;
  margin-top: 0;
  padding: 0;
}

.gameplay-stage__canvas-shell {
  position: absolute;
  inset: 0;
  z-index: 1;
}

.stage-3d-canvas {
  position: absolute;
  inset: 0;
  z-index: 1;
  pointer-events: auto;
  cursor: default;
}

.stage-3d-canvas.is-panning {
  cursor: grabbing;
}

.stage-3d-canvas.is-locked {
  cursor: default;
}

.stage-3d-canvas canvas {
  display: block;
  width: 100% !important;
  height: 100% !important;
}

.gameplay-stage__status {
  position: absolute;
  inset: 88px 0 auto;
  z-index: 4;
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 16px;
  padding: 0 18px;
  pointer-events: none;
}

.status-orb,
.status-strip {
  pointer-events: auto;
}

.status-orb {
  display: grid;
  gap: 4px;
  border: 1px solid rgba(255, 255, 255, 0.34);
  border-radius: 24px;
  padding: 12px 16px;
  background: rgba(255, 255, 255, 0.18);
  backdrop-filter: blur(12px);
  box-shadow:
    0 16px 28px rgba(93, 89, 116, 0.16),
    inset 0 1px 0 rgba(255, 255, 255, 0.6);
}

.status-orb--active {
  background: rgba(255, 246, 214, 0.26);
}

.status-orb__label {
  color: rgba(111, 75, 46, 0.82);
  font-size: 0.7rem;
  font-weight: 800;
  letter-spacing: 0.08em;
  text-transform: uppercase;
}

.status-orb__value {
  color: #5f3a1b;
  font-size: 0.92rem;
}

.status-strip {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

.status-strip__item {
  border-radius: 999px;
  padding: 11px 14px;
  background: rgba(255, 255, 255, 0.2);
  box-shadow:
    0 12px 24px rgba(93, 89, 116, 0.12),
    inset 0 1px 0 rgba(255, 255, 255, 0.56);
  color: #664329;
  font-size: 0.82rem;
  font-weight: 800;
}

.game-hand {
  --hand-discard-duration: 640ms;
  --hand-discard-collapse-duration: 340ms;
  --hand-discard-rise: 18px;
  --hand-discard-travel-x: 304px;
  --hand-draw-duration: 420ms;
  --hand-draw-travel-x: 238px;
  position: fixed;
  inset: auto 50% 24px;
  z-index: 5;
  display: block;
  width: min(calc(100vw - 48px), 1080px);
  padding: 0;
  transform: translateX(-50%);
}

.game-hand__fan {
  display: flex;
  align-items: flex-end;
  justify-content: center;
  gap: 0;
  padding: 0 16px;
}

.game-hand__fan .expansion-card + .expansion-card {
  margin-left: -28px;
}

.game-modal-backdrop {
  position: fixed;
  inset: 0;
  z-index: 12;
  display: grid;
  place-items: center;
  padding: 12px 12px;
  background: rgba(54, 34, 34, 0.26);
  backdrop-filter: blur(18px);
}

.game-modal {
  width: min(100%, 560px);
  max-height: min(80vh, 720px);
  overflow: auto;
  border: 1px solid rgba(255, 255, 255, 0.28);
  border-radius: 32px;
  padding: 22px;
  background:
    radial-gradient(circle at top right, rgba(255, 233, 192, 0.42), transparent 28%),
    linear-gradient(180deg, rgba(255, 251, 244, 0.94), rgba(255, 240, 224, 0.92));
  box-shadow:
    0 28px 80px rgba(50, 34, 33, 0.26),
    inset 0 1px 0 rgba(255, 255, 255, 0.85);
}

.game-modal__header {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 16px;
}

.game-modal__heading {
  display: grid;
  gap: 4px;
}

.game-modal__eyebrow {
  margin: 0;
  color: #9f6a37;
  font-size: 0.74rem;
  font-weight: 800;
  letter-spacing: 0.1em;
  text-transform: uppercase;
}

.game-modal__title {
  margin: 0;
  color: #5f361d;
  font-family: "Baloo 2", "Trebuchet MS", sans-serif;
  font-size: clamp(2rem, 4vw, 2.6rem);
  line-height: 0.96;
}

.game-modal__close {
  border-radius: 999px;
  padding: 10px 14px;
  background: rgba(104, 71, 48, 0.08);
  color: #694227;
  font-weight: 800;
}

.game-modal__body {
  margin-top: 18px;
}

.game-modal__body--deckbuilder {
  min-height: 0;
  overflow: hidden;
}

.game-modal__stack {
  display: grid;
  gap: 16px;
}

.game-modal .route-note {
  background: rgba(255, 255, 255, 0.48);
  box-shadow: inset 0 0 0 1px rgba(169, 130, 84, 0.1);
}

.game-modal .route-note__label {
  color: #9f6a37;
}

.game-modal .route-note__text {
  color: #5f361d;
}

.game-modal__actions {
  display: grid;
  gap: 10px;
}

.game-modal__link {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 18px;
  padding: 14px 16px;
  text-decoration: none;
  font-weight: 800;
}

.game-modal__link--primary {
  background: linear-gradient(135deg, #ffd07c 0%, #f39973 100%);
  color: #4d2d12;
}

.game-modal__link--ghost {
  background: rgba(104, 71, 48, 0.08);
  color: #694227;
}

.game-modal__stats {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 12px;
}

.game-modal__stat-card {
  display: grid;
  gap: 4px;
  border-radius: 22px;
  padding: 16px;
  background: rgba(255, 255, 255, 0.48);
  box-shadow: inset 0 0 0 1px rgba(169, 130, 84, 0.1);
}

.game-modal__stat-label {
  color: rgba(111, 75, 46, 0.82);
  font-size: 0.72rem;
  font-weight: 800;
  letter-spacing: 0.08em;
  text-transform: uppercase;
}

.game-modal__stat-value {
  color: #5f361d;
  font-size: 1.3rem;
}

.game-modal__tip-list {
  display: grid;
  gap: 12px;
}

.game-modal__tip {
  display: grid;
  grid-template-columns: auto 1fr;
  gap: 12px;
  align-items: center;
  border-radius: 22px;
  padding: 14px;
  background: rgba(255, 255, 255, 0.42);
  box-shadow: inset 0 0 0 1px rgba(169, 130, 84, 0.08);
}

.game-modal__tip-key {
  display: inline-flex;
  min-width: 36px;
  height: 36px;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  padding: 0 10px;
  background: rgba(255, 246, 216, 0.92);
  color: #7b4d24;
  font-weight: 800;
}

.game-modal__tip-text {
  margin: 0;
  color: #5f361d;
}

@media (max-width: 1080px) {
  .gameplay-stage__status {
    flex-direction: column;
    align-items: flex-start;
  }

  .gameplay-hud {
    left: 16px;
    right: 16px;
    grid-template-columns: 1fr;
    justify-items: stretch;
  }

  .gameplay-weekline {
    justify-self: stretch;
    width: 100%;
    justify-content: center;
    flex-wrap: wrap;
  }

  .gameplay-hud__cluster {
    justify-content: center;
  }

  .gameplay-hud__cluster--right {
    justify-content: center;
  }
}

@media (max-width: 720px) {
  .gameplay-screen {
    padding: 0;
  }

  .gameplay-stage {
    padding-bottom: 0;
  }

  .gameplay-stage__status {
    inset: 142px 0 auto;
    padding: 0 10px;
  }

  .status-orb,
  .status-strip__item,
  .hud-button,
  .hud-pill {
    font-size: 0.78rem;
  }

  .status-strip {
    gap: 8px;
  }

  .game-hand {
    --hand-discard-rise: 14px;
    --hand-discard-travel-x: 184px;
    --hand-draw-travel-x: 146px;
    inset: auto 50% 16px;
    width: min(calc(100vw - 24px), 1080px);
    padding: 0;
  }

  .game-hand__discard-proxy {
    width: 106px;
    height: 148px;
    bottom: 6px;
  }

  .expansion-card--draw-proxy {
    left: 18px;
  }

  .game-hand__fan {
    justify-content: flex-start;
    overflow-x: auto;
    padding: 0 8px 8px;
    scroll-snap-type: x proximity;
  }

  .game-hand__fan .expansion-card + .expansion-card {
    margin-left: -16px;
  }

  .expansion-card {
    width: 42vw;
    min-width: 150px;
    transform: translateY(0) rotate(0deg);
  }

  .expansion-card:hover:not(:disabled),
  .expansion-card.is-selected {
    transform: translateY(-10px) rotate(0deg);
  }

  .expansion-card__art {
    min-height: 132px;
  }

  .hex-board-shell {
    padding: 20px 12px 26px;
  }

  .game-modal-backdrop {
    padding: 10px 14px;
  }

  .game-modal {
    padding: 18px;
    border-radius: 26px;
  }

  .game-modal__stats {
    grid-template-columns: 1fr;
  }
}

.gameplay-screen.is-overlayed .gameplay-stage {
  filter: saturate(0.85) blur(1.5px);
  transform: scale(0.992);
  transform-origin: center;
}

.game-modal--wide {
  width: min(100%, 1040px);
}

.game-modal--fixed-body {
  overflow: hidden;
}

.game-modal--deckbuilder-panel {
  max-height: min(94vh, 920px);
}

.game-hand__layout {
  position: relative;
  display: grid;
  grid-template-columns: auto minmax(0, 1fr) auto;
  align-items: end;
  gap: 18px;
}

.game-hand.is-discarding .game-hand__fan {
  pointer-events: none;
}

.game-hand__discard-proxy {
  position: absolute;
  left: 50%;
  bottom: 8px;
  width: 132px;
  height: 176px;
  pointer-events: none;
  z-index: 9;
  opacity: 0;
  animation: hand-discard-stack-travel var(--hand-discard-duration, 640ms)
    cubic-bezier(0.24, 0.8, 0.22, 1) forwards;
}

.game-hand__discard-proxy-card {
  position: absolute;
  inset: 0;
  border-radius: 24px;
  border: 5px solid rgba(196, 154, 92, 0.86);
  background:
    linear-gradient(180deg, rgba(255, 248, 236, 0.98), rgba(244, 227, 198, 0.95)),
    rgba(255, 249, 239, 0.95);
  box-shadow:
    0 18px 26px rgba(22, 16, 18, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.88);
}

.game-hand__discard-proxy-card--back {
  transform: translate(-7px, 7px) rotate(-5deg);
  opacity: 0.78;
}

.game-hand__discard-proxy-card--back-secondary {
  transform: translate(6px, 3px) rotate(4deg);
  opacity: 0.86;
}

.game-hand__discard-proxy-card--front {
  transform: translate(0, 0) rotate(0deg);
}

.card-pile {
  display: grid;
  justify-items: center;
  gap: 8px;
}

.card-pile__stack {
  position: relative;
  width: 112px;
  height: 148px;
}

.card-pile__card {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 22px;
  border: 3px solid rgba(170, 128, 73, 0.7);
  box-shadow:
    0 18px 24px rgba(25, 17, 22, 0.18),
    inset 0 1px 0 rgba(255, 255, 255, 0.68);
}

.card-pile__card--back {
  background:
    radial-gradient(circle at 20% 20%, rgba(255, 244, 210, 0.18), transparent 16%),
    linear-gradient(135deg, rgba(255, 201, 161, 0.78), rgba(241, 138, 134, 0.92));
}

.card-pile__card--back:first-child {
  transform: translate(-7px, 9px) rotate(-6deg);
}

.card-pile__card--back:nth-child(2) {
  transform: translate(5px, 5px) rotate(4deg);
}

.card-pile__card--front {
  background:
    linear-gradient(180deg, rgba(255, 251, 242, 0.96), rgba(252, 239, 217, 0.94)),
    rgba(255, 249, 239, 0.95);
  color: #8f5d30;
  font-size: 0.78rem;
  font-weight: 900;
  letter-spacing: 0.08em;
  text-transform: uppercase;
}

.card-pile__count {
  border-radius: 999px;
  padding: 7px 11px;
  background: rgba(70, 42, 28, 0.16);
  color: #fff7e7;
  font-size: 0.74rem;
  font-weight: 800;
  letter-spacing: 0.05em;
}

.game-hand.is-discarding .card-pile__stack--discard .card-pile__card--front {
  transform: translateY(-6px) scale(1.04);
  box-shadow:
    0 18px 26px rgba(48, 30, 26, 0.22),
    0 0 0 3px rgba(255, 227, 167, 0.22),
    inset 0 1px 0 rgba(255, 255, 255, 0.82);
}

.builder-panel {
  display: grid;
  gap: 18px;
}

.builder-panel--deck {
  grid-template-rows: auto minmax(0, 1fr) auto;
  height: min(72vh, 680px);
}

.builder-panel__summary {
  display: grid;
  gap: 12px;
}

.builder-panel__hero {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
}

.builder-chip {
  border-radius: 999px;
  padding: 8px 12px;
  background: rgba(255, 255, 255, 0.58);
  color: #6c4322;
  font-size: 0.78rem;
  font-weight: 800;
  letter-spacing: 0.05em;
  text-transform: uppercase;
}

.builder-panel__text {
  margin: 0;
  color: #6c4322;
}

.collection-grid,
.shop-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(190px, 1fr));
  gap: 14px;
  padding-bottom: 24px;
}

.builder-panel--deck .collection-grid {
  min-height: 0;
  align-content: start;
  overflow-y: auto;
  overflow-x: hidden;
  padding-right: 8px;
}

.collection-card {
  --card-shell-border: rgba(196, 154, 92, 0.84);
  --card-shell-fill-top: rgba(255, 248, 236, 0.97);
  --card-shell-fill-bottom: rgba(244, 227, 198, 0.94);
  --card-shell-glow: rgba(180, 136, 72, 0.16);
  --card-art-border: rgba(186, 136, 74, 0.96);
  position: relative;
  display: grid;
  gap: 12px;
  border: 4px solid var(--card-shell-border);
  border-radius: 24px;
  padding: 12px;
  background:
    linear-gradient(180deg, var(--card-shell-fill-top), var(--card-shell-fill-bottom)),
    rgba(255, 249, 239, 0.95);
  box-shadow:
    0 18px 28px rgba(61, 43, 34, 0.12),
    0 0 0 2px var(--card-shell-glow),
    inset 0 0 0 1px rgba(172, 127, 77, 0.12);
}

.collection-card:hover,
.collection-card:focus-within {
  z-index: 3;
}

.collection-card.is-locked {
  opacity: 0.58;
  filter: saturate(0.7);
}

.collection-card__art {
  position: relative;
  overflow: hidden;
  border-radius: 18px;
  min-height: 110px;
  border: 4px solid var(--card-art-border);
  background:
    radial-gradient(circle at 50% 16%, rgba(255, 248, 200, 0.88), transparent 22%),
    linear-gradient(180deg, rgba(255, 214, 232, 0.82), rgba(255, 244, 214, 0.92));
  box-shadow:
    inset 0 0 0 1px rgba(255, 255, 255, 0.14),
    0 8px 16px rgba(82, 53, 31, 0.08);
}

.collection-card__art--field {
  background:
    radial-gradient(circle at 50% 16%, rgba(255, 248, 200, 0.88), transparent 22%),
    linear-gradient(180deg, rgba(230, 244, 209, 0.88), rgba(255, 244, 214, 0.92));
}

.collection-card__art--garden {
  background:
    radial-gradient(circle at 50% 16%, rgba(255, 248, 200, 0.88), transparent 22%),
    linear-gradient(180deg, rgba(255, 214, 232, 0.88), rgba(255, 244, 214, 0.92));
}

.collection-card__art--pond {
  background:
    radial-gradient(circle at 50% 16%, rgba(255, 248, 200, 0.88), transparent 22%),
    linear-gradient(180deg, rgba(214, 236, 255, 0.88), rgba(255, 244, 214, 0.92));
}

.collection-card__art--wild {
  background:
    radial-gradient(circle at 50% 16%, rgba(255, 248, 200, 0.88), transparent 22%),
    linear-gradient(180deg, rgba(226, 236, 214, 0.88), rgba(255, 244, 214, 0.92));
}

.collection-card--field {
  --card-shell-border: rgba(117, 170, 88, 0.92);
  --card-shell-fill-top: rgba(240, 249, 230, 0.98);
  --card-shell-fill-bottom: rgba(220, 239, 201, 0.95);
  --card-shell-glow: rgba(106, 162, 79, 0.14);
  --card-art-border: rgba(105, 160, 72, 0.96);
}

.collection-card--garden {
  --card-shell-border: rgba(225, 146, 125, 0.92);
  --card-shell-fill-top: rgba(255, 241, 236, 0.98);
  --card-shell-fill-bottom: rgba(248, 220, 209, 0.95);
  --card-shell-glow: rgba(222, 145, 122, 0.14);
  --card-art-border: rgba(214, 126, 102, 0.96);
}

.collection-card--pond {
  --card-shell-border: rgba(106, 165, 212, 0.94);
  --card-shell-fill-top: rgba(239, 248, 255, 0.98);
  --card-shell-fill-bottom: rgba(213, 232, 248, 0.95);
  --card-shell-glow: rgba(91, 155, 211, 0.14);
  --card-art-border: rgba(84, 143, 198, 0.96);
}

.collection-card--wild {
  --card-shell-border: rgba(138, 156, 96, 0.92);
  --card-shell-fill-top: rgba(240, 246, 230, 0.98);
  --card-shell-fill-bottom: rgba(221, 232, 202, 0.95);
  --card-shell-glow: rgba(128, 148, 88, 0.14);
  --card-art-border: rgba(118, 136, 77, 0.96);
}

.collection-card--crop {
  --card-shell-border: rgba(228, 171, 78, 0.94);
  --card-shell-fill-top: rgba(255, 246, 223, 0.99);
  --card-shell-fill-bottom: rgba(249, 230, 180, 0.96);
  --card-shell-glow: rgba(214, 152, 55, 0.16);
  --card-art-border: rgba(210, 148, 42, 0.98);
}

.collection-card__art-image {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  z-index: 0;
}

.collection-card__cost {
  position: absolute;
  top: 10px;
  left: 10px;
  z-index: 2;
  display: inline-flex;
  min-width: 30px;
  min-height: 30px;
  align-items: center;
  justify-content: center;
  gap: 4px;
  padding: 0 8px 0 9px;
  border-radius: 999px;
  background: rgba(255, 252, 240, 0.94);
  color: #925a21;
  font-size: 0.8rem;
  font-weight: 900;
}

.collection-card__yield {
  top: 10px;
  right: 10px;
  min-height: 30px;
  font-size: 0.72rem;
}

.collection-card__copy {
  display: grid;
  gap: 4px;
}

.collection-card__title {
  color: #5f361d;
  font-size: 0.95rem;
}

.collection-card__meta {
  color: rgba(111, 75, 46, 0.82);
  font-size: 0.78rem;
  font-weight: 700;
}

.collection-card__actions {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 10px;
}

.collection-card__button {
  border-radius: 16px;
  padding: 10px 12px;
  background: rgba(104, 71, 48, 0.08);
  color: #694227;
  font-weight: 900;
}

.collection-card__button--primary {
  background: linear-gradient(135deg, #ffd07c 0%, #f39973 100%);
  color: #4d2d12;
}

.collection-card__button:disabled {
  opacity: 0.45;
}

.builder-panel__footer {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  flex-wrap: wrap;
}

.builder-panel__counter {
  color: #6c4322;
  font-size: 0.84rem;
  font-weight: 800;
}

@media (max-width: 900px) {
  .game-hand__layout {
    grid-template-columns: 1fr;
    justify-items: center;
    gap: 12px;
  }

  .gameplay-stage {
    padding-bottom: 324px;
  }

  .card-pile {
    width: 100%;
  }

  .card-pile__stack {
    width: 96px;
    height: 130px;
  }
}

@media (max-width: 720px) {
  .game-modal--wide {
    width: min(100%, 680px);
  }

  .collection-grid,
  .shop-grid {
    grid-template-columns: 1fr;
  }

  .builder-panel__footer {
    align-items: stretch;
  }
}
